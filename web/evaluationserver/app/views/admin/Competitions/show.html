#{extends 'CRUD/layout.html' /}
#{set title:messages.get('crud.show.title', type.modelName) /}

<div id="crudShow" class="${type.name}">

    
    #{form action:@save(object._key()), enctype:'multipart/form-data'}
	<table class="table">
        #{crud.form /}
		<tr>
			<th>Created by</th>
			<td><a href="@{admin.Admins.show(object.id)}">${object.creator.toString()}</a></td>
		</tr>
		<tr>
			<th>Type</th>
			<td>${object.isTraining() ? "Training" : "Competition"}</td>
		</tr>
		<tr>
			<th></th>
			<td>
				<input type="submit" name="_save" value="&{'crud.save', type.modelName}" />
				<input type="submit" name="_saveAndContinue" value="&{'crud.saveAndContinue', type.modelName}" />
			</td>
		</tr>
	</table>
    #{/form}

    #{form @delete(object._key())}
        <p class="crudDelete">
            <input class="confirm" data-confirm="Delete this competition? This operation removes also solutions!" type="submit" value="&{'crud.delete', type.modelName}" />
        </p>
    #{/form}

</div>